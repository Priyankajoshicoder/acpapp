(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8086:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return r(2098)}])},2011:function(e,s,r){"use strict";var a=r(5893),i=r(5697),c=r.n(i),n=r(7294),d=r(7870);let t=e=>{let{children:s,name:r,id:i,price:c,image:t,size:l,action:o="add",useSpinner:h=!0}=e,[u,m]=(0,n.useState)(!1);(0,d.WX)(e=>e.cart.setCart);let x=(0,d.Kw)(e=>e.auth.token),p=(0,d.WX)(e=>e.cart.addToCartGuest),j=(0,d.WX)(e=>e.cart.addItem),N=(0,d.WX)(e=>e.toaster.setNotification),y=(0,d.WX)(e=>e.toaster.popNotification);return(0,a.jsx)(a.Fragment,{children:!1===u?(0,a.jsx)("a",{onClick:function(e){e.preventDefault(),!1===u&&(h&&m(!0),""!==x?j({action:o,id:i,token:x,callback:m,popNotification:y}):(p({name:r,id:i,price:c,image:t,quantity:"add"===o?1:-1}),setTimeout(function(){y()},5e3),m(!1)),N({message:"".concat(r," was ").concat("add"===o?"added to":"removed from"," cart!"),img:t}))},children:s}):(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("div",{className:"spinner-border",role:"status",style:{height:l,width:l,color:"#c23616"},children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})})})};t.propTypes={children:c().any.isRequired,name:c().any.isRequired,id:c().any.isRequired,price:c().any.isRequired,image:c().any.isRequired,size:c().any.isRequired,action:c().any.isRequired,useSpinner:c().any.isRequired},s.Z=t},2098:function(e,s,r){"use strict";r.r(s);var a=r(5893),i=r(1664),c=r.n(i),n=r(7294),d=r(5675),t=r.n(d),l=r(7870),o=r(2011);s.default=()=>{let e=(0,l.Kw)(e=>e.cart.items),s=(0,l.WX)(e=>e.cart.clearCart),[r,i]=(0,n.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"Cart"}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col col-12 col-md-6",children:(0,a.jsxs)("div",{className:"card bg-light mb-3",children:[(0,a.jsx)("div",{className:"card-header",children:"Items"}),(0,a.jsx)("div",{className:"card-body",children:0===e.length?r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:"Thank you for your purchase!"}),(0,a.jsx)("p",{children:"Your order has been successfully placed."}),(0,a.jsx)("p",{children:(0,a.jsx)(c(),{href:"/products",children:"Browse more products"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Your Cart is Empty "}),(0,a.jsx)("p",{children:(0,a.jsx)(c(),{href:"/products",children:"Browse our products here :)"})})]}):e.map((e,s)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-auto",children:(0,a.jsx)(t(),{alt:"product",height:80,width:60,src:e.image})}),(0,a.jsxs)("div",{className:"col mt-auto mb-auto",children:[(0,a.jsxs)("h4",{children:[e.name,(0,a.jsx)("br",{})," ",(0,a.jsxs)("span",{children:["฿",e.price]})]}),(0,a.jsxs)("div",{className:"d-inline",children:[(0,a.jsx)(o.Z,{name:e.name,id:e.id,price:e.price,image:e.image,useSpinner:!1,action:"remove",children:(0,a.jsx)("div",{className:"btn btn-secondary btn-sm",children:"-"})}),(0,a.jsx)(o.Z,{name:e.name,id:e.id,price:e.price,image:e.image,useSpinner:!1,children:(0,a.jsx)("div",{className:"btn btn-primary btn-sm",children:"+"})}),(0,a.jsxs)("span",{className:"ml-2",children:["x",e.quantity]})]})]})]}),(0,a.jsx)("hr",{})]},s))})]})}),(0,a.jsx)("div",{className:"col col-12 col-md-6",children:(0,a.jsxs)("div",{className:"card text-white bg-primary mb-3",children:[(0,a.jsx)("div",{className:"card-header",children:"Checkout"}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("h4",{className:"card-title",children:["Your Total is ฿",e.map(e=>e.price*e.quantity).reduce((e,s)=>e+s,0).toFixed(2)]}),(0,a.jsx)("p",{className:"card-text",children:"How would you like to pay?"}),(0,a.jsx)("button",{className:"btn btn-light",onClick:()=>{0===e.length?alert("Your cart is empty. Please add products to proceed to checkout."):(i(!0),s())},disabled:0===e.length,children:"Confirm and Checkout"}),r&&(0,a.jsx)("div",{className:"alert alert-success mt-3",children:"Order confirmed! Thank you for your purchase."})]})]})})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8086)}),_N_E=e.O()}]);