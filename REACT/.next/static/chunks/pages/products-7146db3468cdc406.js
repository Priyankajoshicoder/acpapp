(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{3308:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return n(1153)}])},2011:function(e,i,n){"use strict";var r=n(5893),t=n(5697),s=n.n(t),c=n(7294),a=n(7870);let o=e=>{let{children:i,name:n,id:t,price:s,image:o,size:d,action:l="add",useSpinner:u=!0}=e,[m,p]=(0,c.useState)(!1);(0,a.WX)(e=>e.cart.setCart);let h=(0,a.Kw)(e=>e.auth.token),x=(0,a.WX)(e=>e.cart.addToCartGuest),_=(0,a.WX)(e=>e.cart.addItem),g=(0,a.WX)(e=>e.toaster.setNotification),j=(0,a.WX)(e=>e.toaster.popNotification);return(0,r.jsx)(r.Fragment,{children:!1===m?(0,r.jsx)("a",{onClick:function(e){e.preventDefault(),!1===m&&(u&&p(!0),""!==h?_({action:l,id:t,token:h,callback:p,popNotification:j}):(x({name:n,id:t,price:s,image:o,quantity:"add"===l?1:-1}),setTimeout(function(){j()},5e3),p(!1)),g({message:"".concat(n," was ").concat("add"===l?"added to":"removed from"," cart!"),img:o}))},children:i}):(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{className:"spinner-border",role:"status",style:{height:d,width:d,color:"#c23616"},children:(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})})})})};o.propTypes={children:s().any.isRequired,name:s().any.isRequired,id:s().any.isRequired,price:s().any.isRequired,image:s().any.isRequired,size:s().any.isRequired,action:s().any.isRequired,useSpinner:s().any.isRequired},i.Z=o},1153:function(e,i,n){"use strict";n.r(i),n.d(i,{__N_SSG:function(){return g},default:function(){return j}});var r=n(5893),t=n(5697),s=n.n(t),c=n(7294),a=n(1163),o=n(5675),d=n.n(o),l=n(2530),u=n.n(l),m=n(1664),p=n.n(m),h=n(2011);let x=e=>{let{name:i,id:n,price:t,image:s}=e;return(0,r.jsx)(p(),{href:"/products/[id]",as:"/products/".concat(n),children:(0,r.jsx)("div",{className:"col-12 col-md-3 ".concat(u().product),children:(0,r.jsxs)("div",{style:{cursor:"pointer"},children:[(0,r.jsxs)("div",{className:u().container,children:[(0,r.jsx)(d(),{src:"http://localhost:8000/_next"+s,alt:i,className:u().image,width:300,height:300}),(0,r.jsx)("div",{className:u().middle,children:(0,r.jsx)(h.Z,{name:i,id:n,price:t,image:s,size:40,children:(0,r.jsx)("div",{className:"btn btn-outline-primary btn-lg",children:"Add To Cart!"})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:i}),(0,r.jsx)("p",{children:t})]})]})})})};x.propTypes={name:s().string.isRequired,id:s().number.isRequired,price:s().oneOfType([s().string,s().number]).isRequired,image:s().string.isRequired};let _=e=>{let{products:i}=e,[n,t]=(0,c.useState)(i),[s,o]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[p,h]=(0,c.useState)("column"),[_,g]=(0,c.useState)(i),j=(0,a.useRouter)().query.search||"";return(0,c.useEffect)(()=>{let e=[...n];"price_asc"===s?e=e.sort((e,i)=>e.price-i.price):"price_desc"===s&&(e=e.sort((e,i)=>i.price-e.price)),t(e)},[s]),(0,c.useEffect)(()=>{let e=n.filter(e=>e.name.toLowerCase().includes(j.toLowerCase()));"name_asc"===l?e=e.sort((e,i)=>e.name.localeCompare(i.name)):"name_desc"===l&&(e=e.sort((e,i)=>i.name.localeCompare(e.name))),g(e)},[j,l,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("section",{className:"product-banner",children:[(0,r.jsx)("div",{className:"banner-content text-center",children:(0,r.jsx)("h1",{children:"Enjoy Shopping with KMITL"})}),(0,r.jsx)("div",{className:"banner-image",children:(0,r.jsx)(d(),{src:"https://scontent.fbkk6-2.fna.fbcdn.net/v/t39.30808-6/262340321_4752913551436559_2000414915732344749_n.jpg?stp=dst-jpg_tt7&_nc_cat=109&cb=99be929b-defccdb7&ccb=1-7&_nc_sid=127cfc&_nc_ohc=bQcd6grukdUQ7kNvgEqwIxU&_nc_ht=scontent.fbkk6-2.fna&_nc_gid=AsM6HfOOrm1bq7CY3cznM8_&oh=00_AYCYc0n6oBCyevpM0t9ywGjYZcyqHqSsuP1RLN49jPVWiA&oe=670D23EA",alt:"Shopping Banner",layout:"responsive",width:1200,height:400})})]}),(0,r.jsx)("h1",{children:"Products"}),(0,r.jsx)("hr",{}),(0,r.jsx)("p",{children:"Browse our Products!"}),(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("label",{htmlFor:"sortPrice",style:{marginLeft:"20px"},children:"Sort By Price: "}),(0,r.jsxs)("select",{id:"sortPrice",value:s,onChange:e=>o(e.target.value),style:{marginRight:"10px"},children:[(0,r.jsx)("option",{value:"",children:"None"}),(0,r.jsx)("option",{value:"price_asc",children:"Price: Low to High"}),(0,r.jsx)("option",{value:"price_desc",children:"Price: High to Low"})]}),(0,r.jsx)("label",{htmlFor:"sortName",style:{marginLeft:"20px"},children:"Sort By Name: "}),(0,r.jsxs)("select",{id:"sortName",value:l,onChange:e=>m(e.target.value),style:{marginRight:"10px"},children:[(0,r.jsx)("option",{value:"",children:"None"}),(0,r.jsx)("option",{value:"name_asc",children:"Name: A-Z"}),(0,r.jsx)("option",{value:"name_desc",children:"Name: Z-A"})]}),(0,r.jsxs)("div",{style:{marginTop:"10px"},children:[(0,r.jsx)("button",{className:"btn ".concat("column"===p?"btn-primary":"btn-outline-primary"," me-2"),onClick:()=>h("column"),children:"Column View"}),(0,r.jsx)("button",{className:"btn ".concat("row"===p?"btn-primary":"btn-outline-primary"),onClick:()=>h("row"),children:"Row View"})]})]}),(0,r.jsx)("div",{className:"row ".concat("row"===p?u().rowView:u().columnView),children:_.length>0?_.map(e=>(0,r.jsx)("div",{className:"row"===p?"col-12 d-flex mb-3 align-items-center":"col-12 col-md-3 mb-4",children:(0,r.jsx)(x,{name:e.name,id:e.id,price:"à¸¿".concat(e.price),image:e.images.length>0?e.images[0].image:"",viewMode:p})},e.id)):(0,r.jsx)("p",{children:"No products found matching your search criteria."})})]})};_.propTypes={products:s().arrayOf(s().shape({id:s().number.isRequired,name:s().string.isRequired,price:s().number.isRequired,images:s().array.isRequired})).isRequired};var g=!0,j=_},2530:function(e){e.exports={product:"product_product__k3_pl",container:"product_container__0OrCE",image:"product_image__cQBEu",middle:"product_middle__qRfIG",text:"product_text__zc1wb"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3308)}),_N_E=e.O()}]);