"use strict";(()=>{var e={};e.id=459,e.ids=[459,888],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},5412:(e,t,r)=>{r.r(t),r.d(t,{config:()=>b,default:()=>P,getServerSideProps:()=>S,getStaticPaths:()=>f,getStaticProps:()=>x,reportWebVitals:()=>j,routeModule:()=>q,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>y});var s={};r.r(s),r.d(s,{default:()=>h});var a=r(7093),n=r(5244),o=r(1323),i=r(5949),l=r(8161),d=r(997),u=r(1664),c=r.n(u),p=r(6689),g=r(9905),m=r(1163);let h=()=>{let[e]=(0,p.useState)(""),t=(0,g.useStoreActions)(e=>e.auth.setToken),[r,s]=(0,p.useState)(""),[a,n]=(0,p.useState)(""),o=(0,g.useStoreActions)(e=>e.cart.setCart),i=(0,m.useRouter)();return(0,d.jsxs)(d.Fragment,{children:[d.jsx("h1",{children:"Login"}),d.jsx("hr",{}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetch(`${"undefined"!=typeof process?process:({}).API_ENDPOINT}login/`,{method:"POST",body:JSON.stringify({username:r,password:a}),headers:{"Content-type":"application/json;charset=UTF-8"}}).then(e=>e.json()).then(e=>{void 0!==e.token&&null!==e.token&&(t(e.token),fetch(`${"undefined"!=typeof process?process:({}).API_ENDPOINT}get-cart/`,{method:"GET",headers:{Authorization:`Token ${e.token}`}}).then(e=>e.json()).then(e=>{let t=e.map(e=>e.product);e.forEach((e,r)=>{t[r].quantity=e.quantity}),o(t)}),i.push("/products"))})},children:[(0,d.jsxs)("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),d.jsx("input",{placeholder:"Email",onChange:e=>s(e.target.value),type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp"})]}),(0,d.jsxs)("div",{className:"mb-3",children:[d.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),d.jsx("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:e=>n(e.target.value)})]}),d.jsx("button",{type:"submit",className:"btn btn-primary",children:"Log In"})]}),d.jsx("br",{}),d.jsx(c(),{href:"signup",children:d.jsx("a",{children:"Or Sign Up"})}),d.jsx("div",{className:"text-danger",children:e})]})},P=(0,o.l)(s,"default"),x=(0,o.l)(s,"getStaticProps"),f=(0,o.l)(s,"getStaticPaths"),S=(0,o.l)(s,"getServerSideProps"),b=(0,o.l)(s,"config"),j=(0,o.l)(s,"reportWebVitals"),y=(0,o.l)(s,"unstable_getStaticProps"),v=(0,o.l)(s,"unstable_getStaticPaths"),_=(0,o.l)(s,"unstable_getStaticParams"),A=(0,o.l)(s,"unstable_getServerProps"),w=(0,o.l)(s,"unstable_getServerSideProps"),q=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:l.default,Document:i.default},userland:s})},5949:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var s=r(997),a=r(6859),n=r.n(a),o=r(6177);class i extends n(){render(){return(0,s.jsxs)(a.Html,{children:[(0,s.jsxs)(a.Head,{children:[s.jsx("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${o.vt}`}),s.jsx("script",{dangerouslySetInnerHTML:{__html:`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '${o.vt}', {
              page_path: window.location.pathname,
            });
          `}})]}),(0,s.jsxs)("body",{children:[s.jsx(a.Main,{}),s.jsx(a.NextScript,{})]})]})}}},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},9905:e=>{e.exports=require("easy-peasy")},9034:e=>{e.exports=require("framer-motion")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},580:e=>{e.exports=require("prop-types")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},3082:e=>{e.exports=require("react-ga")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[567,16,859,161],()=>r(5412));module.exports=s})();