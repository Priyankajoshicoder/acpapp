exports.id=161,exports.ids=[161],exports.modules={6177:(e,t,a)=>{"use strict";a.d(t,{LV:()=>i,vt:()=>s});let s="undefined"!=typeof process?process:({}).GA_TRACKING_ID,i=e=>{window.gtag("config",s,{page_path:e})}},8161:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var s=a(997),i=a(6689),n=a.n(i),r=a(9905),o=a(4298),l=a.n(o);let c={count:0,increment:(0,r.action)(e=>{e.count++}),decrement:(0,r.action)(e=>{e.count--}),reset:(0,r.action)(e=>{e.count=0})},d={notifications:[],setNotification:(0,r.action)((e,t)=>{e.notifications.push(t)}),popNotification:(0,r.action)((e,t)=>{e.notifications.shift()})},h={items:[],itemNum:0,addToCartGuest:(0,r.action)((e,t)=>{e.items.map(e=>e.id).includes(t.id)?(e.items.forEach(e=>{e.id===t.id&&(e.quantity+=t.quantity)}),e.items=e.items.filter(e=>e.quantity>0)):e.items.push(t),e.itemNum=e.items.map(e=>e.quantity).reduce(function(e,t){return e+t},0)}),setCart:(0,r.action)((e,t)=>{e.items=t,e.items.forEach(e=>{e.images=e.images[0].image,e.image=e.images,delete e.images}),e.itemNum=e.items.map(e=>e.quantity).reduce(function(e,t){return e+t},0)}),addItem:(0,r.thunk)(async(e,t)=>{await fetch("http://localhost:8000/api/update-item/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${t.token}`},body:JSON.stringify({action:t.action,productId:t.id})}).then(e=>e.json()).then(a=>{setTimeout(function(){t.popNotification()},5e3);let s=a.map(e=>e.product);a.forEach((e,t)=>{s[t].quantity=e.quantity}),e.setCart(s),t.callback(!1)}).catch(e=>{console.error(e,"catch the hoop")})})},u={token:"",setToken:(0,r.action)((e,t)=>{e.token=t}),logout:(0,r.action)((e,t)=>{e.token=""})},m={counter:c,cart:(0,r.persist)(h),auth:(0,r.persist)(u),toaster:d};var p=a(580),x=a.n(p);function g(e){return(0,r.createStore)(m,e)}var j=a(1664),v=a.n(j);let f=()=>{let e=(0,r.useStoreState)(e=>e.auth.token),t=(0,r.useStoreActions)(e=>e.cart.setCart),a=(0,r.useStoreActions)(e=>e.auth.logout);return s.jsx(s.Fragment,{children:""!=e?s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"dropdown show",children:[s.jsx("a",{className:"dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",fill:"white",className:"bi bi-person-fill",viewBox:"0 0 16 16",children:s.jsx("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})})}),s.jsx("div",{onClick:()=>{a(),t([])},className:"dropdown-menu pointy","aria-labelledby":"dropdownMenuLink",children:s.jsx("a",{className:"dropdown-item",children:"Logout"})})]})}):s.jsx(v(),{href:"/login",children:s.jsx("a",{className:"btn-sm btn-secondary ml-2",children:"Login"})})})};var b=a(1163);let N=()=>{let e=(0,r.useStoreState)(e=>e.cart.itemNum),[t,a]=(0,i.useState)(""),n=(0,b.useRouter)();return(0,s.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"darkblue"},children:[s.jsx(v(),{href:"/",children:s.jsx("a",{className:"navbar-brand",children:"KMITLunion"})}),s.jsx("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation",children:s.jsx("span",{className:"navbar-toggler-icon"})}),(0,s.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarColor01",children:[(0,s.jsxs)("ul",{className:"navbar-nav mr-auto",children:[s.jsx("li",{className:"nav-item",children:s.jsx(v(),{href:"/products",children:s.jsx("a",{className:"nav-link",children:"Products"})})}),s.jsx("li",{className:"nav-item",children:s.jsx(v(),{href:"/contact",children:s.jsx("a",{className:"nav-link",children:"Contact Us"})})})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.push(`/products?search=${t}`)},className:"d-flex me-4",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Search products...",value:t,onChange:e=>a(e.target.value),style:{width:"250px"}}),s.jsx("button",{type:"submit",className:"btn btn-outline-primary ms-2",children:"Search"})]}),s.jsx("div",{className:"mr-4",children:s.jsx(f,{})}),s.jsx("div",{children:s.jsx(v(),{href:"/cart",children:(0,s.jsxs)("a",{className:"d-flex align-items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"white",className:"bi bi-cart-fill",viewBox:"0 0 16 16",children:s.jsx("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),s.jsx("span",{className:"badge bg-secondary ms-2",children:e})]})})})]})]})};var y=a(6177),w=a(3082),S=a.n(w),C=a(9034),k=a(5675),q=a.n(k);let L=()=>{let e=(0,r.useStoreState)(e=>e.toaster.notifications);return s.jsx(C.motion.div,{variants:{hidden:{scale:.6,opacity:0},visible:{scale:1,opacity:1,transition:{delay:.2}}},initial:"hidden",animate:e.length>0?"visible":"hidden",children:(0,s.jsxs)("div",{className:"toast show",role:"alert","aria-live":"assertive","aria-atomic":"true",children:[(0,s.jsxs)("div",{className:"toast-header",children:[s.jsx("strong",{className:"mr-auto",children:"Success!"}),s.jsx("small",{children:"now"}),s.jsx("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",children:s.jsx("span",{"aria-hidden":"true",children:"\xd7"})})]}),s.jsx(v(),{href:"/cart",children:s.jsx("a",{children:s.jsx("div",{className:"toast-body gray-hover",children:(0,s.jsxs)("div",{className:"row",children:[s.jsx("div",{className:"col col-3 text-center",children:s.jsx(q(),{width:50,height:75,src:e[e.length-1]?.img,alt:"Product image"})}),s.jsx("div",{className:"col justify-content-center align-self-center",children:e[e.length-1]?.message})]})})})})]})})},T=({children:e})=>{let t=(0,r.useStoreState)(e=>e.toaster.notifications),a=(0,b.useRouter)(),n=(0,r.useStoreRehydrated)();return(0,i.useEffect)(()=>{S().initialize(`${y.vt}`,{debug:!0})},[]),(0,i.useEffect)(()=>{let e=e=>{y.LV(e)};return a.events.on("routeChangeComplete",e),()=>{a.events.off("routeChangeComplete",e)}},[a.events]),s.jsx(s.Fragment,{children:n?(0,s.jsxs)(s.Fragment,{children:[s.jsx(N,{}),s.jsx("br",{}),s.jsx("div",{className:"container",children:e}),t.length>0?s.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px"},children:s.jsx(L,{})}):""]}):s.jsx("div",{id:"loading-screen",children:(0,s.jsxs)("div",{id:"loading-position",className:"text-center",children:[s.jsx("div",{className:"spinner-border",style:{height:"5rem",width:"5rem"},role:"status",children:s.jsx("span",{className:"sr-only",children:"Loading..."})}),s.jsx("div",{className:"mt-4",children:"Loading..."})]})})})};T.propTypes={children:x().any.isRequired},a(2620),a(8702);let I=(e=>{class t extends n().Component{static async getInitialProps(t){let a=g();t.ctx.reduxStore=a;let s={};return"function"==typeof e.getInitialProps&&(s=await e.getInitialProps(t)),{...s,initialReduxState:a.getState()}}constructor(e){super(e),this.reduxStore=g(e.initialReduxState)}render(){return s.jsx(e,{...this.props,reduxStore:this.reduxStore})}}return t.propTypes={initialReduxState:x().object.isRequired},t})(function({Component:e,pageProps:t,reduxStore:a}){return(0,s.jsxs)(r.StoreProvider,{store:a,children:[s.jsx(T,{children:s.jsx(e,{...t})}),s.jsx(l(),{src:"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js",strategy:"afterInteractive"}),s.jsx(l(),{src:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js",strategy:"afterInteractive"})]})})},2620:()=>{},8702:()=>{}};